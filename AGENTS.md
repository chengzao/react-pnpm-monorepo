# AGENTS.md

æ­¤æ–‡ä»¶ä¸ºåœ¨æ­¤ä»£ç åº“ä¸­å·¥ä½œçš„ AI åŠ©æ‰‹æä¾›æŒ‡å¯¼ã€‚

## æ„å»ºå’Œå¼€å‘å‘½ä»¤

- **å•åŒ…å¼€å‘**: æ¯ä¸ªåŒ…å†…çš„ `dev` å‘½ä»¤åªèƒ½åœ¨å¯¹åº”åŒ…ç›®å½•å†…è¿è¡Œï¼ˆä¸èƒ½ä»æ ¹ç›®å½•è¿è¡Œï¼‰
- **å¼ºåˆ¶åŒ…ç®¡ç†**: `preinstall` è„šæœ¬å¼ºåˆ¶ä½¿ç”¨ pnpmï¼Œä½¿ç”¨ npm/yarn ä¼šå¤±è´¥

## å…³é”®æ„å»ºå·®å¼‚

- **rslib åŒ…**: ä½¿ç”¨ `@rslib/core` æ„å»ºï¼Œé…ç½®åœ¨ `rslib.config.ts`
- **rollup åŒ…**: ä¼ ç»Ÿ rollup æ„å»ºï¼Œ`prepublishOnly` ä¾èµ– `pnpm build`
- **vite åŒ…**: ä½¿ç”¨ `rimraf dist` æ¸…ç†æ„å»ºç›®å½•
- **ui åŒ…**: ä½¿ç”¨ father æ„å»ºï¼Œç‰¹æ®Šæ’ä»¶å¤„ç† less/sass

## æµ‹è¯•ç¯å¢ƒ

- **vitest åŒ…**: ç‹¬ç«‹æµ‹è¯•ç¯å¢ƒï¼Œä½¿ç”¨ `@vitest/browser` å’Œ playwright
- **å•åŒ…æµ‹è¯•**: é€šè¿‡å„åŒ…çš„ `test` è„šæœ¬è¿è¡Œï¼Œä¸æ˜¯ä»æ ¹ç›®å½•ç»Ÿä¸€è¿è¡Œ
- **tsup åŒ…**: æµ‹è¯•æ–‡ä»¶åœ¨ `test` ç›®å½•ï¼Œä¸æ˜¯ `__tests__`

## åŒ…ç»“æ„å’Œå¯¼å‡ºæ¨¡å¼

- **ç»„ä»¶å¯¼å‡º**: ä¸»å…¥å£æ–‡ä»¶ç»Ÿä¸€ä½¿ç”¨å‘½åå¯¼å‡ºå’Œé»˜è®¤å¯¼å‡ºæ··åˆæ¨¡å¼
- **åŒ…å‘½å**: scope åŒ…ä½¿ç”¨ `@learnbase/` å‰ç¼€ï¼Œç§æœ‰åŒ…ä½¿ç”¨ `antd4-style` ç­‰
- **ç±»å‹å£°æ˜**: TypeScript é…ç½®å·®å¼‚è¾ƒå¤§ï¼Œæ¯ä¸ªåŒ…æœ‰ç‹¬ç«‹çš„ `tsconfig.json`

## æ ·å¼å¤„ç†

- **rollup åŒ…**: ä½¿ç”¨ `rollup-plugin-less` å’Œ `rollup-plugin-postcss` å¤„ç†æ ·å¼
- **vite åŒ…**: ç‰¹æ®Šæ’ä»¶ `vite-plugin-css-injected-by-js` å’Œ `vite-plugin-lib-inject-css`
- **ä¸»é¢˜ç³»ç»Ÿ**: antd5 é›†æˆï¼Œéœ€è¦ç‰¹æ®Šçš„æ ·å¼æ³¨å…¥å¤„ç†

## ç‰ˆæœ¬å‘å¸ƒæµç¨‹

- **changeset é›†æˆ**: ä½¿ç”¨ `@changesets/cli` ç®¡ç†ç‰ˆæœ¬å‘å¸ƒ
- **æ¨¡å¼å‘å¸ƒ**: æ”¯æŒ alpha/beta/rc/release å¤šç§å‘å¸ƒæ¨¡å¼
- **commit è§„èŒƒ**: å¼ºåˆ¶ä½¿ç”¨ conventional commits (é€šè¿‡ husky + commitlint)

## å¼€å‘å·¥å…·

- **lint-staged**: æ ¹çº§å·²ç¦ç”¨ï¼›å¦‚éœ€å¯ç”¨è¯·åœ¨å­åŒ…å†…è‡ªè¡Œé…ç½®å¹¶é€šè¿‡è¯¥å­åŒ…çš„ husky é’©å­æ‰§è¡Œ
- **husky**: commit-msg ä½¿ç”¨ pnpm æ‰§è¡Œ commitlintï¼ˆpnpm exec commitlintï¼‰ï¼›æ ¹çº§ pre-commit ä¸º pass-through
- **pnpm workspace**: åŒ…é—´ä¾èµ–é€šè¿‡ workspace åè®®ç®¡ç†

## ğŸ†• æ¶æ„ä¼˜åŒ–è¯´æ˜

### ä¾èµ–ç®¡ç†ç­–ç•¥

- **ç‰ˆæœ¬ç‹¬ç«‹æ€§**: å„åŒ…å¯æ ¹æ®éœ€è¦ç‹¬ç«‹é€‰æ‹©Reactã€antdç­‰ä¾èµ–ç‰ˆæœ¬
- **æ ¹çº§åˆ«æ¸…ç†**: ç§»é™¤äº†æ ¹package.jsonä¸­çš„å¤–éƒ¨ä¾èµ–ï¼ˆreactã€react-domç­‰ï¼‰
- **pnpmé…ç½®ä¼˜åŒ–**: åœ¨ `pnpm.peerDependencyRules.ignoreMissing` ä¸­æ·»åŠ  `react`ã€`react-dom`ã€`antd`
- **åŒ…é—´ç‹¬ç«‹**: æ¯ä¸ªåŒ…ç®¡ç†è‡ªå·±çš„ä¾èµ–ç‰ˆæœ¬ï¼Œé¿å…å¼ºåˆ¶ç»Ÿä¸€

### ESLintç°ä»£åŒ– (v9.x)

- **é…ç½®ä¸‹æ²‰**: ä½¿ç”¨ flat config æ ¼å¼çš„ `eslint.config.mjs` æŒ‰éœ€åœ¨å­åŒ…å†…ç»´æŠ¤ï¼Œæ ¹çº§ä¸å†æä¾›ç»Ÿä¸€ ESLint é…ç½®
- **ç‰ˆæœ¬å‡çº§**: æ¨èä½¿ç”¨ ESLint 9.38.0 åŠç›¸å…³æ’ä»¶çš„æœ€æ–°ç‰ˆæœ¬
- **æ ¹çº§æ¸…ç†**: å·²ç§»é™¤æ ¹çº§ ESLint/Prettier ä¸ lint-stagedï¼Œæäº¤æ ¡éªŒç”±å„å­åŒ…ç‹¬ç«‹å®ç°
- **ç°ä»£åŒ–è§„åˆ™**: åŒ…å« TypeScriptã€React Hooksã€ä»£ç è´¨é‡ç­‰å®Œæ•´è§„åˆ™é›†
- **ç‰¹æ®Šæ–‡ä»¶å¤„ç†**: é…ç½®æ–‡ä»¶ï¼ˆ.fatherrc.tsã€rslib.config.ts ç­‰ï¼‰æœ‰ç‰¹æ®Šçš„ lint è§„åˆ™

### AIåŠ©æ‰‹æ³¨æ„äº‹é¡¹

- å½“ä¿®æ”¹ä¾èµ–ç›¸å…³æ–‡ä»¶æ—¶ï¼Œæ³¨æ„å„åŒ…çš„ç‰ˆæœ¬ç‹¬ç«‹æ€§
- ESLint æ”¹ä¸ºç”±å„å­åŒ…ç»´æŠ¤ flat configï¼Œæ ¹çº§ä¸å†ç»Ÿä¸€é…ç½®
- æäº¤é’©å­ï¼šæ ¹çº§ pre-commit pass-throughï¼›commit-msg ä½¿ç”¨ pnpm æ‰§è¡Œ commitlintï¼›éœ€è¦ lint-staged çš„å­åŒ…è‡ªè¡Œé…ç½®
- æ¨èåœ¨å­åŒ…èŒƒå›´è¿è¡Œ lintï¼šä¾‹å¦‚ `pnpm --filter ./example run lint`
- ä¿æŒç°æœ‰å¤šæ„å»ºå·¥å…·å¹¶å­˜çš„æ¶æ„è®¾è®¡
- æ ¹çº§ .npmrc å·²ç§»é™¤æœªçŸ¥é¡¹ç›®é”®ä»¥é¿å… npm è­¦å‘Šï¼ˆenable-pre-post-scriptsã€auto-install-peersï¼‰
